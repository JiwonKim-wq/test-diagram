# 다이어그램 데이터 처리 시스템 사용법 매뉴얼

## 📚 목차
1. [시스템 개요](#1-시스템-개요)
2. [기본 사용법](#2-기본-사용법)
3. [노드 라이브러리](#3-노드-라이브러리)
4. [노드 관리](#4-노드-관리)
5. [데이터베이스 연결](#5-데이터베이스-연결)
6. [데이터 처리](#6-데이터-처리)
7. [고급 기능](#7-고급-기능)
8. [문제 해결](#8-문제-해결)

---

## 1. 시스템 개요

다이어그램 데이터 처리 시스템은 시각적인 노드 기반 인터페이스를 통해 데이터베이스 쿼리, 데이터 처리, 변환 작업을 수행할 수 있는 웹 애플리케이션입니다.

### 주요 특징
- 🎯 **노드 기반 시각적 편집**: 드래그 앤 드롭으로 직관적인 데이터 플로우 구성
- 🔗 **다양한 데이터 소스**: MySQL, Logpresso 등 다양한 데이터베이스 지원
- ⚡ **실시간 처리**: 데이터 필터링, 집계, 변환, 조인 등 실시간 데이터 처리
- 🐍 **커스텀 스크립트**: Python 스크립트를 통한 고급 데이터 처리
- 📊 **결과 시각화**: 처리된 데이터의 테이블 형태 출력 및 미리보기

---

## 2. 기본 사용법

### 2.1 시스템 시작
1. 웹 브라우저에서 애플리케이션에 접속
2. 화면 구성 확인:
   - **왼쪽 패널**: 노드 라이브러리 (사용 가능한 노드들)
   - **중앙 영역**: 다이어그램 캔버스 (작업 공간)
   - **오른쪽 패널**: 속성 패널 (선택된 노드의 설정)

### 2.2 기본 조작법
- **확대/축소**: 마우스 휠 또는 하단 컨트롤 버튼
- **이동**: 마우스 드래그로 캔버스 이동
- **노드 선택**: 노드 클릭
- **노드 연결**: 노드의 연결점에서 다른 노드로 드래그

---

## 3. 노드 라이브러리

### 3.1 데이터 소스 노드

#### MySQL 데이터베이스 노드
- **용도**: MySQL 데이터베이스에서 데이터 조회
- **추가 방법**: 노드 라이브러리에서 더블클릭 또는 드래그 앤 드롭
- **출력**: 쿼리 결과 데이터

#### Logpresso 노드
- **용도**: Logpresso에서 로그 데이터 조회
- **추가 방법**: 노드 라이브러리에서 더블클릭 또는 드래그 앤 드롭
- **출력**: 로그 데이터

### 3.2 데이터 처리 노드

#### 데이터 필터링 노드
- **용도**: 조건에 따른 데이터 필터링
- **입력**: 테이블 데이터
- **출력**: 필터링된 데이터
- **설정**: 필터 조건, 연산자 (AND/OR)

#### 데이터 집계 노드
- **용도**: 데이터 그룹화 및 집계 함수 적용
- **입력**: 테이블 데이터
- **출력**: 집계된 데이터
- **집계 함수**: COUNT, SUM, AVG, MIN, MAX, FIRST, LAST, STDDEV, VARIANCE

#### 데이터 변환 노드
- **용도**: 데이터 형식 변환 및 조작
- **입력**: 테이블 데이터
- **출력**: 변환된 데이터
- **변환 타입**: 필드 매핑, 데이터 타입 변환, 계산, 문자열 조작, 날짜 조작, 조건부 변환

#### 데이터 조인 노드
- **용도**: 두 개의 데이터셋 조인
- **입력**: 두 개의 테이블 데이터
- **출력**: 조인된 데이터
- **조인 타입**: INNER JOIN, LEFT JOIN, RIGHT JOIN, FULL OUTER JOIN

### 3.3 사용자 정의 노드

#### Python 스크립트 노드
- **용도**: Python 코드를 통한 고급 데이터 처리
- **입력**: 테이블 데이터
- **출력**: 스크립트 실행 결과
- **기능**: 커스텀 로직 구현 가능

### 3.4 출력 노드

#### 결과 출력 노드
- **용도**: 최종 결과를 테이블 형태로 출력
- **입력**: 처리된 데이터
- **출력**: 시각화된 테이블

---

## 4. 노드 관리

### 4.1 노드 추가
1. **더블클릭 방식**: 노드 라이브러리에서 원하는 노드를 더블클릭
2. **드래그 앤 드롭 방식**: 노드를 캔버스로 드래그하여 원하는 위치에 드롭

### 4.2 노드 삭제
1. **키보드 삭제**: 노드 선택 후 `Delete` 또는 `Backspace` 키 입력
2. **마우스 삭제**: 노드 우상단의 **X** 버튼 클릭

### 4.3 노드 연결
1. 소스 노드의 **출력 핸들**(오른쪽 원형 점)에서 클릭 시작
2. 타겟 노드의 **입력 핸들**(왼쪽 원형 점)까지 드래그
3. 연결선이 생성되어 데이터 플로우 구성

### 4.4 노드 이동
- 노드를 클릭하고 드래그하여 원하는 위치로 이동

---

## 5. 데이터베이스 연결

### 5.1 MySQL 데이터베이스 연결 설정

1. **MySQL 데이터베이스 노드 선택**
2. **오른쪽 속성 패널에서 연결 정보 입력**:
   - **호스트**: 데이터베이스 서버 주소 (예: localhost)
   - **포트**: 데이터베이스 포트 번호 (기본값: 3306)
   - **데이터베이스**: 연결할 데이터베이스 이름
   - **사용자명**: 데이터베이스 사용자 계정
   - **비밀번호**: 계정 비밀번호
   - **SQL 쿼리**: 실행할 SQL 쿼리문

### 5.2 연결 테스트
1. 연결 정보 입력 완료 후 **연결 테스트** 버튼 클릭
2. 연결 성공 시 녹색 메시지, 실패 시 빨간색 에러 메시지 표시
3. **실시간 정보 업데이트**: 연결 정보 수정 시 노드에 즉시 반영

### 5.3 쿼리 실행
1. **쿼리 실행** 버튼 클릭
2. 결과는 속성 패널 하단에 작은 테이블로 표시 (최대 10개 행)
3. **더블클릭으로 상세 보기**: 테이블을 더블클릭하면 큰 팝업창에서 전체 결과 확인
   - **페이지네이션**: 20개씩 나누어 표시
   - **연결 정보 표시**: 실행된 쿼리와 연결 정보
   - **행 번호**: 각 행에 번호 표시

---

## 6. 데이터 처리

### 6.1 데이터 필터링

1. **필터 노드 추가 및 연결**
2. **속성 패널에서 필터 설정**:
   - **연산자**: AND 또는 OR 선택
   - **필터 규칙 추가**: "필터 규칙 추가" 버튼 클릭
   - **필드명**: 필터링할 컬럼명
   - **조건**: equals, not equals, greater than, less than 등
   - **값**: 비교할 값
   - **활성화**: 각 필터 규칙의 사용 여부

### 6.2 데이터 집계

1. **집계 노드 추가 및 연결**
2. **그룹화 필드 설정**:
   - "필드 추가" 버튼으로 그룹화할 컬럼 추가
   - 필드명 입력 및 활성화 설정
3. **집계 규칙 설정**:
   - "집계 규칙 추가" 버튼 클릭
   - **필드명**: 집계할 컬럼
   - **함수**: COUNT, SUM, AVG, MIN, MAX 등 선택
   - **별칭**: 결과 컬럼명
   - **DISTINCT**: 중복 제거 여부

### 6.3 데이터 변환

1. **변환 노드 추가 및 연결**
2. **변환 규칙 설정**:
   - "변환 규칙 추가" 버튼 클릭
   - **변환 타입**: 필드 매핑, 데이터 타입 변환 등 선택
   - **소스 필드**: 변환할 원본 필드
   - **타겟 필드**: 결과 필드명
   - **매개변수**: 변환 타입에 따른 추가 설정

### 6.4 데이터 조인

1. **조인 노드 추가**
2. **두 개의 데이터 소스를 조인 노드에 연결**
3. **조인 설정**:
   - **조인 타입**: INNER JOIN, LEFT JOIN 등 선택
   - **왼쪽 키**: 첫 번째 테이블의 조인 키
   - **오른쪽 키**: 두 번째 테이블의 조인 키

---

## 7. 고급 기능

### 7.1 Python 스크립트 활용

1. **Python 노드 추가**
2. **코드 에디터에서 스크립트 작성**:
   ```python
   # 입력 데이터는 'data' 변수로 접근 가능
   # 예: 데이터 필터링
   result = data[data['age'] > 25]
   
   # 결과는 'result' 변수에 저장
   ```
3. **코드 실행** 버튼으로 스크립트 실행

### 7.2 노드 상태 모니터링

- **연결 상태**: 노드 아이콘으로 연결 상태 확인
- **데이터 행 수**: 각 노드에서 처리된 데이터 행 수 표시
- **에러 표시**: 문제 발생 시 빨간색 경고 아이콘
- **유효성 검사**: 실시간 설정 검증 및 경고 메시지

### 7.3 워크플로우 저장/불러오기
*현재 개발 중인 기능입니다.*

---

## 8. 문제 해결

### 8.1 일반적인 문제

#### 노드가 연결되지 않을 때
- 호환되지 않는 노드 타입 간 연결 시도 확인
- 출력 핸들(오른쪽)에서 입력 핸들(왼쪽)로 연결했는지 확인

#### 데이터베이스 연결 실패
- 네트워크 연결 상태 확인
- 데이터베이스 서버 실행 상태 확인
- 연결 정보 (호스트, 포트, 계정) 정확성 확인
- 방화벽 설정 확인

#### 쿼리 실행 오류
- SQL 문법 오류 확인
- 테이블명, 컬럼명 존재 여부 확인
- 데이터베이스 권한 확인

### 8.2 성능 최적화

#### 대용량 데이터 처리
- 쿼리에 LIMIT 절 사용하여 결과 행 수 제한
- 필터링을 먼저 수행하여 데이터 양 감소
- 인덱스가 있는 컬럼으로 조인 수행

#### 브라우저 성능
- 불필요한 노드 삭제
- 복잡한 다이어그램은 여러 개로 분할
- 브라우저 캐시 정리

### 8.3 단축키

| 기능 | 단축키 |
|------|--------|
| 노드 삭제 | `Delete` 또는 `Backspace` |
| 전체 화면 맞춤 | 캔버스 하단 "fit view" 버튼 |
| 확대/축소 | 마우스 휠 또는 캔버스 하단 버튼 |

---

## 📞 지원 및 문의

시스템 사용 중 문제가 발생하거나 추가 기능이 필요한 경우:
1. 개발팀에 문의
2. GitHub 이슈 등록
3. 사용자 커뮤니티 참여

---

**버전**: 1.0  
**최종 업데이트**: 2024년  
**작성자**: 개발팀 